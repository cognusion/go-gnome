

# speaker
`import "github.com/cognusion/go-gnome/speaker"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>
Package speaker implements playback of beep.Streamer values through physical speakers.

This code was taken from <a href="https://github.com/gopxl/beep/blob/main/speaker/speaker.go">https://github.com/gopxl/beep/blob/main/speaker/speaker.go</a>
and modified around current line 70 to ship the draining of readyChan off to a goro and
simply continue on the process. With my WASM builds, they were "hanging" there until a
mouse click or keypress in the browser window, and then the WASM app would show.
Additionally, func clamp is func Clamp from <a href="https://github.com/gopxl/beep/blob/main/internal/util/math.go">https://github.com/gopxl/beep/blob/main/internal/util/math.go</a> which
cannot be imported directly.

All rights and marks belong to the 'beep' project. Direct usage of this package is not recommended.




## <a name="pkg-index">Index</a>
* [func Clear()](#Clear)
* [func Close()](#Close)
* [func Init(sampleRate beep.SampleRate, bufferSize int) error](#Init)
* [func Lock()](#Lock)
* [func Play(s ...beep.Streamer)](#Play)
* [func PlayAndWait(s ...beep.Streamer)](#PlayAndWait)
* [func Resume() error](#Resume)
* [func Suspend() error](#Suspend)
* [func Unlock()](#Unlock)


#### <a name="pkg-files">Package files</a>
[speaker.go](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go)





## <a name="Clear">func</a> [Clear](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=4850:4862#L161)
``` go
func Clear()
```
Clear removes all currently playing Streamers from the speaker.
Previously buffered samples may still be played.



## <a name="Close">func</a> [Close](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=3101:3113#L91)
``` go
func Close()
```
Close closes audio playback. However, the underlying driver context keeps existing, because
closing it isn't supported (<a href="https://github.com/hajimehoshi/oto/issues/149">https://github.com/hajimehoshi/oto/issues/149</a>). In most cases,
there is certainly no need to call Close even when the program doesn't play anymore, because
in properly set systems, the default mixer handles multiple concurrent processes.



## <a name="Init">func</a> [Init](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=1509:1568#L47)
``` go
func Init(sampleRate beep.SampleRate, bufferSize int) error
```
Init initializes audio playback through speaker. Must be called before using this package.

The bufferSize argument specifies the number of samples of the speaker's buffer. Bigger
bufferSize means lower CPU usage and more reliable playback. Lower bufferSize means better
responsiveness and less delay.



## <a name="Lock">func</a> [Lock](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=3455:3466#L103)
``` go
func Lock()
```
Lock locks the speaker. While locked, speaker won't pull new data from the playing Streamers. Lock
if you want to modify any currently playing Streamers to avoid race conditions.

Always lock speaker for as little time as possible, to avoid playback glitches.



## <a name="Play">func</a> [Play](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=3666:3695#L113)
``` go
func Play(s ...beep.Streamer)
```
Play starts playing all provided Streamers through the speaker.



## <a name="PlayAndWait">func</a> [PlayAndWait](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=3854:3890#L120)
``` go
func PlayAndWait(s ...beep.Streamer)
```
PlayAndWait plays all provided Streamers through the speaker and waits until they have all finished playing.



## <a name="Resume">func</a> [Resume](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=4591:4610#L151)
``` go
func Resume() error
```
Resume resumes the entire audio play, which was suspended by Suspend.



## <a name="Suspend">func</a> [Suspend](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=4375:4395#L142)
``` go
func Suspend() error
```
Suspend suspends the entire audio play.

This function is intended to save resources when no audio is playing.
To suspend individual streams, use the beep.Ctrl.



## <a name="Unlock">func</a> [Unlock](https://github.com/cognusion/go-gnome/tree/master/speaker/speaker.go?s=3567:3580#L108)
``` go
func Unlock()
```
Unlock unlocks the speaker. Call after modifying any currently playing Streamer.








- - -
Generated by [godoc2md](http://github.com/cognusion/godoc2md)
